"use strict";
/*
  This file is part of web3x.

  web3x is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  web3x is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.

  You should have received a copy of the GNU Lesser General Public License
  along with web3x.  If not, see <http://www.gnu.org/licenses/>.
*/
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../utils");
const output_log_formatter_1 = require("./output-log-formatter");
const util_1 = require("util");
/**
 * Formats the output of a transaction receipt to its proper values
 *
 * @method outputTransactionReceiptFormatter
 * @param {Object} receipt
 * @returns {Object}
 */
function outputTransactionReceiptFormatter(receipt) {
    if (!receipt) {
        return null;
    }
    if (typeof receipt !== 'object') {
        throw new Error('Received receipt is invalid: ' + receipt);
    }
    if (receipt.blockNumber !== null)
        receipt.blockNumber = utils_1.hexToNumber(receipt.blockNumber);
    if (receipt.transactionIndex !== null)
        receipt.transactionIndex = utils_1.hexToNumber(receipt.transactionIndex);
    receipt.cumulativeGasUsed = utils_1.hexToNumber(receipt.cumulativeGasUsed);
    receipt.gasUsed = utils_1.hexToNumber(receipt.gasUsed);
    if (util_1.isArray(receipt.logs)) {
        receipt.logs = receipt.logs.map(output_log_formatter_1.outputLogFormatter);
    }
    if (receipt.contractAddress) {
        receipt.contractAddress = utils_1.toChecksumAddress(receipt.contractAddress);
    }
    if (typeof receipt.status !== 'undefined') {
        receipt.status = Boolean(parseInt(receipt.status));
    }
    return receipt;
}
exports.outputTransactionReceiptFormatter = outputTransactionReceiptFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3V0cHV0LXRyYW5zYWN0aW9uLXJlY2VpcHQtZm9ybWF0dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Zvcm1hdHRlcnMvb3V0cHV0LXRyYW5zYWN0aW9uLXJlY2VpcHQtZm9ybWF0dGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBZUU7O0FBRUYsb0NBQTBEO0FBQzFELGlFQUFpRTtBQUNqRSwrQkFBK0I7QUFpQy9COzs7Ozs7R0FNRztBQUNILFNBQWdCLGlDQUFpQyxDQUFDLE9BQU87SUFDdkQsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNaLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsRUFBRTtRQUMvQixNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixHQUFHLE9BQU8sQ0FBQyxDQUFDO0tBQzVEO0lBRUQsSUFBSSxPQUFPLENBQUMsV0FBVyxLQUFLLElBQUk7UUFBRSxPQUFPLENBQUMsV0FBVyxHQUFHLG1CQUFXLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3pGLElBQUksT0FBTyxDQUFDLGdCQUFnQixLQUFLLElBQUk7UUFBRSxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsbUJBQVcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUN4RyxPQUFPLENBQUMsaUJBQWlCLEdBQUcsbUJBQVcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNuRSxPQUFPLENBQUMsT0FBTyxHQUFHLG1CQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRS9DLElBQUksY0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN6QixPQUFPLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLHlDQUFrQixDQUFDLENBQUM7S0FDckQ7SUFFRCxJQUFJLE9BQU8sQ0FBQyxlQUFlLEVBQUU7UUFDM0IsT0FBTyxDQUFDLGVBQWUsR0FBRyx5QkFBaUIsQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7S0FDdEU7SUFFRCxJQUFJLE9BQU8sT0FBTyxDQUFDLE1BQU0sS0FBSyxXQUFXLEVBQUU7UUFDekMsT0FBTyxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0tBQ3BEO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQTFCRCw4RUEwQkMifQ==