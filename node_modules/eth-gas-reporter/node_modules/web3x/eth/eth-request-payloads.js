"use strict";
/*
  This file is part of web3x.

  web3x is free software: you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  web3x is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.

  You should have received a copy of the GNU Lesser General Public License
  along with web3x.  If not, see <http://www.gnu.org/licenses/>.
*/
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../utils");
const formatters_1 = require("../formatters");
const util_1 = require("util");
const identity = result => result;
class EthRequestPayloads {
    constructor(defaultFromAddress, defaultBlock = 'latest') {
        this.defaultFromAddress = defaultFromAddress;
        this.defaultBlock = defaultBlock;
    }
    getDefaultFromAddress() {
        return this.defaultFromAddress;
    }
    setDefaultFromAddress(address) {
        this.defaultFromAddress = address ? utils_1.toChecksumAddress(formatters_1.inputAddressFormatter(address)) : undefined;
    }
    getDefaultBlock() {
        return this.defaultBlock;
    }
    setDefaultBlock(block) {
        this.defaultBlock = block;
    }
    getId() {
        return {
            method: 'net_version',
            format: utils_1.hexToNumber,
        };
    }
    getNodeInfo() {
        return {
            method: 'web3_clientVersion',
            format: identity,
        };
    }
    getProtocolVersion() {
        return {
            method: 'eth_protocolVersion',
            format: identity,
        };
    }
    getCoinbase() {
        return {
            method: 'eth_coinbase',
            format: identity,
        };
    }
    isMining() {
        return {
            method: 'eth_mining',
            format: identity,
        };
    }
    getHashrate() {
        return {
            method: 'eth_hashrate',
            format: utils_1.hexToNumber,
        };
    }
    isSyncing() {
        return {
            method: 'eth_syncing',
            format: formatters_1.outputSyncingFormatter,
        };
    }
    getGasPrice() {
        return {
            method: 'eth_gasPrice',
            format: formatters_1.outputBigNumberFormatter,
        };
    }
    getAccounts() {
        return {
            method: 'eth_accounts',
            format: result => result.map(utils_1.toChecksumAddress),
        };
    }
    getBlockNumber() {
        return {
            method: 'eth_blockNumber',
            format: utils_1.hexToNumber,
        };
    }
    getBalance(address, block) {
        return {
            method: 'eth_getBalance',
            params: [formatters_1.inputAddressFormatter(address), formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: formatters_1.outputBigNumberFormatter,
        };
    }
    getStorageAt(address, position, block) {
        return {
            method: 'eth_getStorageAt',
            params: [
                formatters_1.inputAddressFormatter(address),
                utils_1.numberToHex(position),
                formatters_1.inputBlockNumberFormatter(this.resolveBlock(block)),
            ],
            format: identity,
        };
    }
    getCode(address, block) {
        return {
            method: 'eth_getCode',
            params: [formatters_1.inputAddressFormatter(address), formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: identity,
        };
    }
    getBlock(block, returnTransactionObjects = false) {
        return {
            method: util_1.isString(block) && utils_1.isHexStrict(block) ? 'eth_getBlockByHash' : 'eth_getBlockByNumber',
            params: [formatters_1.inputBlockNumberFormatter(this.resolveBlock(block)), returnTransactionObjects],
            format: formatters_1.outputBlockFormatter,
        };
    }
    getUncle(block, uncleIndex, returnTransactionObjects = false) {
        return {
            method: util_1.isString(block) && utils_1.isHexStrict(block) ? 'eth_getUncleByBlockHashAndIndex' : 'eth_getUncleByBlockNumberAndIndex',
            params: [formatters_1.inputBlockNumberFormatter(this.resolveBlock(block)), utils_1.numberToHex(uncleIndex), returnTransactionObjects],
            format: formatters_1.outputBlockFormatter,
        };
    }
    getBlockTransactionCount(block) {
        return {
            method: util_1.isString(block) && utils_1.isHexStrict(block)
                ? 'eth_getBlockTransactionCountByHash'
                : 'eth_getBlockTransactionCountByNumber',
            params: [formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: utils_1.hexToNumber,
        };
    }
    getBlockUncleCount(block) {
        return {
            method: util_1.isString(block) && utils_1.isHexStrict(block) ? 'eth_getUncleCountByBlockHash' : 'eth_getUncleCountByBlockNumber',
            params: [formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: utils_1.hexToNumber,
        };
    }
    getTransaction(hash) {
        return {
            method: 'eth_getTransactionByHash',
            params: [hash],
            format: formatters_1.outputTransactionFormatter,
        };
    }
    getTransactionFromBlock(block, index) {
        return {
            method: util_1.isString(block) && utils_1.isHexStrict(block)
                ? 'eth_getTransactionByBlockHashAndIndex'
                : 'eth_getTransactionByBlockNumberAndIndex',
            params: [formatters_1.inputBlockNumberFormatter(block), utils_1.numberToHex(index)],
            format: formatters_1.outputTransactionFormatter,
        };
    }
    getTransactionReceipt(hash) {
        return {
            method: 'eth_getTransactionReceipt',
            params: [hash],
            format: formatters_1.outputTransactionReceiptFormatter,
        };
    }
    getTransactionCount(address, block) {
        return {
            method: 'eth_getTransactionCount',
            params: [formatters_1.inputAddressFormatter(address), formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: utils_1.hexToNumber,
        };
    }
    signTransaction(tx) {
        tx.from = tx.from || this.defaultFromAddress;
        return {
            method: 'eth_signTransaction',
            params: [formatters_1.inputTransactionFormatter(tx)],
            format: identity,
        };
    }
    sendSignedTransaction(data) {
        return {
            method: 'eth_sendRawTransaction',
            params: [data],
            format: identity,
        };
    }
    sendTransaction(tx) {
        tx.from = tx.from || this.defaultFromAddress;
        return {
            method: 'eth_sendTransaction',
            params: [formatters_1.inputTransactionFormatter(tx)],
            format: identity,
        };
    }
    sign(address, dataToSign) {
        return {
            method: 'eth_sign',
            params: [formatters_1.inputAddressFormatter(address), formatters_1.inputSignFormatter(dataToSign)],
            format: identity,
        };
    }
    signTypedData(address, dataToSign) {
        return {
            method: 'eth_signTypedData',
            params: [dataToSign, formatters_1.inputAddressFormatter(address)],
            format: identity,
        };
    }
    call(callObject, block, outputFormatter = result => result) {
        return {
            method: 'eth_call',
            params: [formatters_1.inputCallFormatter(callObject), formatters_1.inputBlockNumberFormatter(this.resolveBlock(block))],
            format: outputFormatter,
        };
    }
    estimateGas(tx) {
        tx.from = tx.from || this.defaultFromAddress;
        return {
            method: 'eth_estimateGas',
            params: [formatters_1.inputCallFormatter(tx)],
            format: utils_1.hexToNumber,
        };
    }
    submitWork(nonce, powHash, digest) {
        return {
            method: 'eth_submitWork',
            params: [nonce, powHash, digest],
            format: identity,
        };
    }
    getWork() {
        return {
            method: 'eth_getWork',
            format: identity,
        };
    }
    getPastLogs(options) {
        return {
            method: 'eth_getLogs',
            params: [formatters_1.inputLogFormatter(options)],
            format: result => result.map(formatters_1.outputLogFormatter),
        };
    }
    resolveBlock(block) {
        return block === undefined ? this.defaultBlock : block;
    }
}
exports.EthRequestPayloads = EthRequestPayloads;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXRoLXJlcXVlc3QtcGF5bG9hZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXRoL2V0aC1yZXF1ZXN0LXBheWxvYWRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0VBZUU7O0FBRUYsb0NBQW9GO0FBQ3BGLDhDQWN1QjtBQUN2QiwrQkFBZ0M7QUFNaEMsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7QUFFbEMsTUFBYSxrQkFBa0I7SUFDN0IsWUFBb0Isa0JBQTRCLEVBQVUsZUFBMEIsUUFBUTtRQUF4RSx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQVU7UUFBVSxpQkFBWSxHQUFaLFlBQVksQ0FBc0I7SUFBRyxDQUFDO0lBRWhHLHFCQUFxQjtRQUNuQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNqQyxDQUFDO0lBRUQscUJBQXFCLENBQUMsT0FBaUI7UUFDckMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMseUJBQWlCLENBQUMsa0NBQXFCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ3BHLENBQUM7SUFFRCxlQUFlO1FBQ2IsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzNCLENBQUM7SUFFRCxlQUFlLENBQUMsS0FBZ0I7UUFDOUIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7SUFDNUIsQ0FBQztJQUVELEtBQUs7UUFDSCxPQUFPO1lBQ0wsTUFBTSxFQUFFLGFBQWE7WUFDckIsTUFBTSxFQUFFLG1CQUFXO1NBQ3BCLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULE9BQU87WUFDTCxNQUFNLEVBQUUsb0JBQW9CO1lBQzVCLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUM7SUFDSixDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLE9BQU87WUFDTCxNQUFNLEVBQUUscUJBQXFCO1lBQzdCLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULE9BQU87WUFDTCxNQUFNLEVBQUUsY0FBYztZQUN0QixNQUFNLEVBQUUsUUFBUTtTQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVELFFBQVE7UUFDTixPQUFPO1lBQ0wsTUFBTSxFQUFFLFlBQVk7WUFDcEIsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXO1FBQ1QsT0FBTztZQUNMLE1BQU0sRUFBRSxjQUFjO1lBQ3RCLE1BQU0sRUFBRSxtQkFBVztTQUNwQixDQUFDO0lBQ0osQ0FBQztJQUVELFNBQVM7UUFDUCxPQUFPO1lBQ0wsTUFBTSxFQUFFLGFBQWE7WUFDckIsTUFBTSxFQUFFLG1DQUFzQjtTQUMvQixDQUFDO0lBQ0osQ0FBQztJQUVELFdBQVc7UUFDVCxPQUFPO1lBQ0wsTUFBTSxFQUFFLGNBQWM7WUFDdEIsTUFBTSxFQUFFLHFDQUF3QjtTQUNqQyxDQUFDO0lBQ0osQ0FBQztJQUVELFdBQVc7UUFDVCxPQUFPO1lBQ0wsTUFBTSxFQUFFLGNBQWM7WUFDdEIsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyx5QkFBaUIsQ0FBQztTQUNoRCxDQUFDO0lBQ0osQ0FBQztJQUVELGNBQWM7UUFDWixPQUFPO1lBQ0wsTUFBTSxFQUFFLGlCQUFpQjtZQUN6QixNQUFNLEVBQUUsbUJBQVc7U0FDcEIsQ0FBQztJQUNKLENBQUM7SUFFRCxVQUFVLENBQUMsT0FBZ0IsRUFBRSxLQUFpQjtRQUM1QyxPQUFPO1lBQ0wsTUFBTSxFQUFFLGdCQUFnQjtZQUN4QixNQUFNLEVBQUUsQ0FBQyxrQ0FBcUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxzQ0FBeUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0YsTUFBTSxFQUFFLHFDQUF3QjtTQUNqQyxDQUFDO0lBQ0osQ0FBQztJQUVELFlBQVksQ0FBQyxPQUFnQixFQUFFLFFBQWdCLEVBQUUsS0FBaUI7UUFDaEUsT0FBTztZQUNMLE1BQU0sRUFBRSxrQkFBa0I7WUFDMUIsTUFBTSxFQUFFO2dCQUNOLGtDQUFxQixDQUFDLE9BQU8sQ0FBQztnQkFDOUIsbUJBQVcsQ0FBQyxRQUFRLENBQUM7Z0JBQ3JCLHNDQUF5QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDcEQ7WUFDRCxNQUFNLEVBQUUsUUFBUTtTQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVELE9BQU8sQ0FBQyxPQUFnQixFQUFFLEtBQWlCO1FBQ3pDLE9BQU87WUFDTCxNQUFNLEVBQUUsYUFBYTtZQUNyQixNQUFNLEVBQUUsQ0FBQyxrQ0FBcUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxzQ0FBeUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0YsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztJQUNKLENBQUM7SUFFRCxRQUFRLENBQUMsS0FBNEIsRUFBRSwyQkFBb0MsS0FBSztRQUM5RSxPQUFPO1lBQ0wsTUFBTSxFQUFFLGVBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxtQkFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsc0JBQXNCO1lBQzdGLE1BQU0sRUFBRSxDQUFDLHNDQUF5QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSx3QkFBd0IsQ0FBQztZQUN2RixNQUFNLEVBQUUsaUNBQW9CO1NBQzdCLENBQUM7SUFDSixDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQTRCLEVBQUUsVUFBa0IsRUFBRSwyQkFBb0MsS0FBSztRQUNsRyxPQUFPO1lBQ0wsTUFBTSxFQUNKLGVBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxtQkFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUMsbUNBQW1DO1lBQ2pILE1BQU0sRUFBRSxDQUFDLHNDQUF5QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxtQkFBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFLHdCQUF3QixDQUFDO1lBQ2hILE1BQU0sRUFBRSxpQ0FBb0I7U0FDN0IsQ0FBQztJQUNKLENBQUM7SUFFRCx3QkFBd0IsQ0FBQyxLQUE0QjtRQUNuRCxPQUFPO1lBQ0wsTUFBTSxFQUNKLGVBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxtQkFBVyxDQUFDLEtBQUssQ0FBQztnQkFDbkMsQ0FBQyxDQUFDLG9DQUFvQztnQkFDdEMsQ0FBQyxDQUFDLHNDQUFzQztZQUM1QyxNQUFNLEVBQUUsQ0FBQyxzQ0FBeUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0QsTUFBTSxFQUFFLG1CQUFXO1NBQ3BCLENBQUM7SUFDSixDQUFDO0lBRUQsa0JBQWtCLENBQUMsS0FBNEI7UUFDN0MsT0FBTztZQUNMLE1BQU0sRUFBRSxlQUFRLENBQUMsS0FBSyxDQUFDLElBQUksbUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsOEJBQThCLENBQUMsQ0FBQyxDQUFDLGdDQUFnQztZQUNqSCxNQUFNLEVBQUUsQ0FBQyxzQ0FBeUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0QsTUFBTSxFQUFFLG1CQUFXO1NBQ3BCLENBQUM7SUFDSixDQUFDO0lBRUQsY0FBYyxDQUFDLElBQXFCO1FBQ2xDLE9BQU87WUFDTCxNQUFNLEVBQUUsMEJBQTBCO1lBQ2xDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztZQUNkLE1BQU0sRUFBRSx1Q0FBMEI7U0FDbkMsQ0FBQztJQUNKLENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxLQUE0QixFQUFFLEtBQWE7UUFDakUsT0FBTztZQUNMLE1BQU0sRUFDSixlQUFRLENBQUMsS0FBSyxDQUFDLElBQUksbUJBQVcsQ0FBQyxLQUFLLENBQUM7Z0JBQ25DLENBQUMsQ0FBQyx1Q0FBdUM7Z0JBQ3pDLENBQUMsQ0FBQyx5Q0FBeUM7WUFDL0MsTUFBTSxFQUFFLENBQUMsc0NBQXlCLENBQUMsS0FBSyxDQUFDLEVBQUUsbUJBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5RCxNQUFNLEVBQUUsdUNBQTBCO1NBQ25DLENBQUM7SUFDSixDQUFDO0lBRUQscUJBQXFCLENBQUMsSUFBcUI7UUFDekMsT0FBTztZQUNMLE1BQU0sRUFBRSwyQkFBMkI7WUFDbkMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2QsTUFBTSxFQUFFLDhDQUFpQztTQUMxQyxDQUFDO0lBQ0osQ0FBQztJQUVELG1CQUFtQixDQUFDLE9BQWdCLEVBQUUsS0FBaUI7UUFDckQsT0FBTztZQUNMLE1BQU0sRUFBRSx5QkFBeUI7WUFDakMsTUFBTSxFQUFFLENBQUMsa0NBQXFCLENBQUMsT0FBTyxDQUFDLEVBQUUsc0NBQXlCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQzdGLE1BQU0sRUFBRSxtQkFBVztTQUNwQixDQUFDO0lBQ0osQ0FBQztJQUVELGVBQWUsQ0FBQyxFQUFNO1FBQ3BCLEVBQUUsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDN0MsT0FBTztZQUNMLE1BQU0sRUFBRSxxQkFBcUI7WUFDN0IsTUFBTSxFQUFFLENBQUMsc0NBQXlCLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdkMsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztJQUNKLENBQUM7SUFFRCxxQkFBcUIsQ0FBQyxJQUFVO1FBQzlCLE9BQU87WUFDTCxNQUFNLEVBQUUsd0JBQXdCO1lBQ2hDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztZQUNkLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUM7SUFDSixDQUFDO0lBRUQsZUFBZSxDQUFDLEVBQU07UUFDcEIsRUFBRSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUM3QyxPQUFPO1lBQ0wsTUFBTSxFQUFFLHFCQUFxQjtZQUM3QixNQUFNLEVBQUUsQ0FBQyxzQ0FBeUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN2QyxNQUFNLEVBQUUsUUFBUTtTQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksQ0FBQyxPQUFnQixFQUFFLFVBQWdCO1FBQ3JDLE9BQU87WUFDTCxNQUFNLEVBQUUsVUFBVTtZQUNsQixNQUFNLEVBQUUsQ0FBQyxrQ0FBcUIsQ0FBQyxPQUFPLENBQUMsRUFBRSwrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN4RSxNQUFNLEVBQUUsUUFBUTtTQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVELGFBQWEsQ0FBQyxPQUFnQixFQUFFLFVBQTJEO1FBQ3pGLE9BQU87WUFDTCxNQUFNLEVBQUUsbUJBQW1CO1lBQzNCLE1BQU0sRUFBRSxDQUFDLFVBQVUsRUFBRSxrQ0FBcUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwRCxNQUFNLEVBQUUsUUFBUTtTQUNqQixDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksQ0FBQyxVQUFjLEVBQUUsS0FBaUIsRUFBRSxlQUFlLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNO1FBQ3hFLE9BQU87WUFDTCxNQUFNLEVBQUUsVUFBVTtZQUNsQixNQUFNLEVBQUUsQ0FBQywrQkFBa0IsQ0FBQyxVQUFVLENBQUMsRUFBRSxzQ0FBeUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0YsTUFBTSxFQUFFLGVBQWU7U0FDeEIsQ0FBQztJQUNKLENBQUM7SUFFRCxXQUFXLENBQUMsRUFBTTtRQUNoQixFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDO1FBQzdDLE9BQU87WUFDTCxNQUFNLEVBQUUsaUJBQWlCO1lBQ3pCLE1BQU0sRUFBRSxDQUFDLCtCQUFrQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sRUFBRSxtQkFBVztTQUNwQixDQUFDO0lBQ0osQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFhLEVBQUUsT0FBZSxFQUFFLE1BQWM7UUFDdkQsT0FBTztZQUNMLE1BQU0sRUFBRSxnQkFBZ0I7WUFDeEIsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUM7WUFDaEMsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQztJQUNKLENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTztZQUNMLE1BQU0sRUFBRSxhQUFhO1lBQ3JCLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVyxDQUFDLE9BQXNCO1FBQ2hDLE9BQU87WUFDTCxNQUFNLEVBQUUsYUFBYTtZQUNyQixNQUFNLEVBQUUsQ0FBQyw4QkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLCtCQUFrQixDQUFDO1NBQ2pELENBQUM7SUFDSixDQUFDO0lBRU8sWUFBWSxDQUFDLEtBQTZCO1FBQ2hELE9BQU8sS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ3pELENBQUM7Q0FDRjtBQWpSRCxnREFpUkMifQ==