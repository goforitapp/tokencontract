"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function wrapSend(provider, sendWrapper) {
    return new Proxy(provider, {
        get(target, p, receiver) {
            if (p === "send") {
                const { cloneDeep } = require("lodash");
                return (method, params = []) => sendWrapper(method, cloneDeep(params));
            }
            const originalValue = Reflect.get(target, p, receiver);
            if (originalValue instanceof Function) {
                return (...args) => {
                    const returned = Reflect.apply(originalValue, target, args);
                    if (returned !== target) {
                        return returned;
                    }
                    return receiver;
                };
            }
            return originalValue;
        }
    });
}
exports.wrapSend = wrapSend;
//# sourceMappingURL=wrapper.js.map